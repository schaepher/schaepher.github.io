<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>后端的优化 - Schaepher's Blog</title><meta name=Description content="深透理解，熟练运用；似懂非懂，其实不懂。"><meta property="og:title" content="后端的优化"><meta property="og:description" content="后端优化分为三个方向 组件配置调优，偏运维 架构调优，偏架构 代码层面的调优，偏开发 配置调优 以 Nginx、PHP、MySQL 为例。 LNMP中web"><meta property="og:type" content="article"><meta property="og:url" content="https://schaepher.github.io/2020/05/07/backend-optimizing/"><meta property="og:image" content="https://schaepher.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-05-07T18:41:00+00:00"><meta property="article:modified_time" content="2020-05-07T18:41:00+00:00"><meta property="og:site_name" content="Schaepher's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://schaepher.github.io/logo.png"><meta name=twitter:title content="后端的优化"><meta name=twitter:description content="后端优化分为三个方向 组件配置调优，偏运维 架构调优，偏架构 代码层面的调优，偏开发 配置调优 以 Nginx、PHP、MySQL 为例。 LNMP中web"><meta name=application-name content="Schaepher's Blog"><meta name=apple-mobile-web-app-title content="Schaepher's Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://schaepher.github.io/2020/05/07/backend-optimizing/><link rel=prev href=https://schaepher.github.io/2020/05/07/keepalived-vip/><link rel=next href=https://schaepher.github.io/2020/05/07/epoll/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"后端的优化","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/schaepher.github.io\/2020\/05\/07\/backend-optimizing\/"},"genre":"posts","keywords":"optimizing","wordcount":2734,"url":"https:\/\/schaepher.github.io\/2020\/05\/07\/backend-optimizing\/","datePublished":"2020-05-07T18:41:00+00:00","dateModified":"2020-05-07T18:41:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Schaepher"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Schaepher's Blog"></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>主页 </a><a class=menu-item href=/posts/ title=文章按年份分类>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Schaepher's Blog"></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>主页</a><a class=menu-item href=/posts/ title=文章按年份分类>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">后端的优化</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://cnblogs.com/schaepher title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Schaepher</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2020-05-07>2020-05-07</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 2734 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 6 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept=true><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#配置调优>配置调优</a><ul><li><ul><li><a href=#nginx>Nginx</a></li><li><a href=#php-fpm>PHP-FPM</a></li><li><a href=#php>PHP</a></li><li><a href=#mysqlinnodb>MySQL（InnoDB）</a></li></ul></li></ul></li><li><a href=#架构调优>架构调优</a><ul><li><ul><li><a href=#nginx-1>Nginx</a></li><li><a href=#mysqlinnodb-1>MySQL（InnoDB）</a></li><li><a href=#服务>服务</a></li></ul></li></ul></li><li><a href=#代码层面>代码层面</a><ul><li><ul><li><a href=#减少连接次数>减少连接次数</a></li><li><a href=#多线程多进程>多线程/多进程</a></li><li><a href=#缓存>缓存</a></li><li><a href=#异步任务>异步任务</a></li><li><a href=#mysqlinnodb-2>MySQL（InnoDB）</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><p>后端优化分为三个方向</p><ul><li>组件配置调优，偏运维</li><li>架构调优，偏架构</li><li>代码层面的调优，偏开发</li></ul><h2 id=配置调优>配置调优</h2><p>以 Nginx、PHP、MySQL 为例。</p><blockquote><p>LNMP中web高并发优化配置以及配置详解<br><a href=https://phpartisan.cn/news/55.html target=_blank rel="noopener noreffer">https://phpartisan.cn/news/55.html</a></p></blockquote><h4 id=nginx>Nginx</h4><p>从简单粗暴的角度，就是提高连接数。</p><p>增加进程数，每个 CPU 配置一个进程。</p><blockquote><p>进程数配置项： worker_processes<br>CPU 配置项： worker_cpu_affinity ，该选项使得 Nginx 每个进程都执行在不同 CPU</p></blockquote><p>提高单进程允许的最多连接数。</p><blockquote><p>配置项： worker_connections</p></blockquote><p>理论上一台机器的最大连接数 = worker_processes * worker_connections</p><h4 id=php-fpm>PHP-FPM</h4><p>总体思想是控制进程数。</p><p>选项：pm</p><ul><li>static<br>固定进程数。如果是 PHP 专用服务器，则可以将其设置为固定，并给定一个比较大的值。</li><li>dynamic （默认）<br>根据以下几个因素变化：<ul><li>启动时进程数</li><li>最大进程数</li><li>至少有多少个空闲进程，少了就创建新空闲进程</li><li>至多有多少个空闲进程，多了就销毁空闲进程</li></ul></li></ul><p>每个 PHP-FPM 进程大致占用 20 MB 的内存，用内存除以 20 MB 就是极限数量。但是要注意，如果设置极限数量，在有其他应用占用较大内存时，会导致服务异常。</p><h4 id=php>PHP</h4><p>去掉没有用到的扩展。</p><p>启用 OPCache 扩展。</p><p>在某一台机器上启用 tideways 扩展，分析具体函数的耗时。</p><h4 id=mysqlinnodb>MySQL（InnoDB）</h4><p>MySQL 的内存缓存大小对于性能的影响较大。</p><p>MySQL 的缓存分为两部分：</p><ul><li>索引</li><li>行记录</li></ul><p>配置项是： innodb_buffer_pool_size</p><p>这也是索引不能加太多的原因。索引加太多会导致索引占用更多的缓存，进而使得行记录的缓存减少。</p><p>索引的更多优化：</p><ul><li><p>索引不要加到重复数据多的列上。<br>索引有一个参数 Cardinality，用于评估索引中唯一值的数目的估值。如果该值和表行数的比值小于一定程度，则不会使用索引。</p></li><li><p>字段太长应使用部分索引。</p></li><li><p>使用短 ID 作为主键。因为辅助索引的叶子节点存储的是主键，如果主键太大，会使得辅助索引也变大。因此通常使用自增 ID 而不是 UUID 作为主键。</p></li><li><p>必要情况下创建联合索引。多条件情况下，单表只会命中其中一个单列索引。</p></li></ul><h2 id=架构调优>架构调优</h2><p>瓶颈主要在数据库。</p><h4 id=nginx-1>Nginx</h4><p>使用双 Nginx 服务器（或者更多），用上 Keepalived + VIPA 组合确保高可用。</p><p>可以设置多个 VIPA ，分布到不同机器上，这些机器互为主备。接着让域名同时解析到这些 VIPA。这样可以充分利用多台 Nginx 服务器，并且保证高可用。</p><h4 id=mysqlinnodb-1>MySQL（InnoDB）</h4><p>从读性能和写性能两方面入手。</p><p>提高读性能：</p><ul><li>添加从机（冗余数据），读写分离。读取数据时，从不同的从机读取。<br>一般一主三从，两从用于提供服务，一从用于后台访问。<blockquote><p>后台访问的服务如果是大数据服务，则可为这台机器设置更多索引来提升读性能。但会给运维带来维护的麻烦，所以慎用。通常来说保持与其他服务器相同的配置。</p></blockquote></li><li>水平切分。将表中的旧数据转存到同库其他表或者其他库。<br>可以优先考虑分库。因为磁盘满的时候，还是要把表迁移到其他库。</li><li>垂直切分。将表中不常用的和长度较大的字段拆到另一张表。</li><li>冷热分离。如果只有近三个月的数据访问量大，则将近三个月的数据尽量放到固态硬盘。将三个月之前的数据放到机械硬盘。</li><li>索引外置。把数据冗余一份到 Elastic Search 里面。</li><li>外部缓存。业务数据缓存到 Redis 里面。Cache Aside Pattern。</li></ul><p>注：所有数据冗余都会带来数据一致性的问题。</p><p>两种一致性问题：</p><ul><li><p>主从不一致</p><ul><li>业务允许时无视不一致</li><li>强制读主。从库读不到时再去主库读一次。</li><li>选择性读主（Redis）。数据更新通知 Redis，毫秒级缓存，查询前先看更新的数据是否在 Redis 里面，有则读主。</li></ul></li><li><p>缓存不一致（Redis）<br>发生在写后立即读。缓存了旧数据。<br>通过 binlog 了解主从同步进度，同步完删除缓存。</p></li></ul><p>提高写性能：</p><ul><li>多主多写<br>要解决 ID 冲突的问题。两种方式：<ul><li>设置不同起始 ID ，提高自增 ID 步长（会导致数据库配置不一致）</li><li>客户端生成 ID。生成 ID 的方式可以参考分布式 ID 的几种生成方式。</li></ul></li></ul><p>分库：</p><ul><li>单 key<br>场景：用户表查询比登录多<br>其他字段如果要加速，则专门做一个单字段到 UID 的映射表（可放入缓存加速）</li><li>1 对多<br>场景：用户查订单比订单查用户多
用户订单。订单 ID 携带用户 ID 的信息。让同一个用户的订单落在同一个库。</li><li>多对多<br>场景：关注与粉丝。<br>创建两个库，分别用其中一个字段作为分库依据。</li><li>多 key<br>场景：买家比卖家查订单多，查订单比查用户多<br>忽略最少的部分，退化为 1 对多。<br>架构不能为 1% 的性能而带来 20% 甚至更高的复杂性。</li></ul><h4 id=服务>服务</h4><p>无状态化，可根据需要横向扩容。</p><p>用 JWT（Json Web Token）验证身份。</p><p>文件存储放分布式文件存储上面，如 MinIO。</p><h2 id=代码层面>代码层面</h2><p>分为：</p><ul><li>减少连接次数</li><li>多线程/多进程</li><li>缓存</li><li>异步处理</li><li>数据库</li></ul><h4 id=减少连接次数>减少连接次数</h4><p>例如项目中有一个模块，要传输脚本到目标机器上执行。分为两步：</p><ol><li>传输脚本</li><li>执行</li></ol><p>要建立两次连接。</p><p>优化方式：将脚本 base64_encode，然后把执行命令拼接在后面。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;base64_encoded string&#34;</span> <span class=p>|</span> base64 -d -i &gt; /usr/local/src/xxx.sh<span class=p>;</span> bash xxx.sh <span class=s2>&#34;param0&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=多线程多进程>多线程/多进程</h4><p>碰到有多个耗时任务，为每个任务创建一个新的线程或者进程执行。</p><h4 id=缓存>缓存</h4><p>分为应用内缓存和外置缓存。</p><p>应用内缓存有些场景需要自己维护多台机器之间的缓存信息，根据情况使用。</p><p>外置缓存（如 Redis/Memcached）。</p><p>将请求外部接口的数据缓存到 Redis，减少接口调用的耗时。</p><h4 id=异步任务>异步任务</h4><p>将业务中最重要的部分执行完后，尽快返回给前端。剩余的任务丢入队列，后台处理。</p><h4 id=mysqlinnodb-2>MySQL（InnoDB）</h4><p>总体思想是尽可能减少数据量，尽可能早结束查询，尽可能命中索引，尽可能减小锁的粒度。</p><p>在执行语句前，先用 Explain 查看执行计划，尽量命中索引，避免全表扫描。</p><ol><li><p>尽量避免使用 select *，需要多少字段拿多少字段</p></li><li><p>非唯一索引尽量使用 limit</p></li><li><p>使用索引来代理 limit 处理分页<br>limit 会扫描前面不要的数据，然后逐一抛弃。在 Where 里面指定 ID 范围会更快。<br>业务层提供上一页和下一页的操作，避免用户一次跳多页。URL 要使用 after_xxx ，避免用户直接修改 page。例如 GitHub 的 release 列表界面。</p></li><li><p>用 Union 替代 OR<br>注：MySQL 的优化器会尝试使用索引合并来自动优化 OR。</p></li><li><p>当数据集不会重复时，用 Union All 替代 Union</p></li><li><p>联合索引最左匹配原则</p></li><li><p>联合索引在范围查询的字段后就不会再走索引了</p></li><li><p>删除由最左匹配原则覆盖的索引</p></li><li><p>使用 like 时，避免把 % 放前面<br>放在前面不走索引。</p></li><li><p>使用 Where 加更精确的条件限制来减少传输的数据量<br>以前见过判断用户登录用户名密码的时候，把整个用户表查出来再逐一判断的代码。</p></li><li><p>避免对索引列使用 MySQL 内置函数。</p></li><li><p>优先使用 Inner Join 而不是其他 Join。</p></li><li><p>如果使用 Left Join 或者 Right Join，驱动表数据量尽可能小。</p></li><li><p>避免在索引列上使用不等号。如果索引能用范围扫描，则使用范围操作符。<br>例如 a != 1，转化为 a &lt; 1 AND a > 1。</p></li><li><p>大量数据使用批量分块插入数据<br>其中一个影响因素是锁。一个事务插入已知数量的多条数据，只需获取一次锁。</p></li><li><p>使用覆盖索引<br>使用索引就能获取想要的值，不需要从数据表中读。<br>用于辅助索引。<br>因为索引的执行顺序是：</p><ul><li>用辅助索引找到主键</li><li>通过主键索引找到数据<br>如果 select 的值只包括辅助索引和主键，则使用覆盖索引。</li></ul></li><li><p>尽量不要在 select 字段多的时候使用 Distinct</p></li><li><p>批量删除数据要谨慎</p><ul><li>分批操作。</li><li>如果全部数据删除，且不需要恢复，则使用 truncate 。</li><li>如果不是全部删除，则把保留的数据插入到新表，再整个删除旧表。</li></ul><p>批量删除会加锁<br>批量删除过程要写 undo 日志，一旦回滚，需要更多时间</p></li><li><p>避免数据类型隐式转换<br>隐式转换会使索引失效</p></li></ol></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2020-05-07</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/2020/05/07/backend-optimizing/index.md target=_blank>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://schaepher.github.io/2020/05/07/backend-optimizing/ data-title=后端的优化 data-hashtags=optimizing><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://schaepher.github.io/2020/05/07/backend-optimizing/ data-hashtag=optimizing><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Hacker News" data-sharer=hackernews data-url=https://schaepher.github.io/2020/05/07/backend-optimizing/ data-title=后端的优化><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://schaepher.github.io/2020/05/07/backend-optimizing/ data-title=后端的优化><i data-svg-src=/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://schaepher.github.io/2020/05/07/backend-optimizing/ data-title=后端的优化><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://schaepher.github.io/2020/05/07/backend-optimizing/ data-title=后端的优化><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/optimizing/>optimizing</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2020/05/07/keepalived-vip/ class=prev rel=prev title="高可用的实现（Keepalived + 虚 IP）"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>高可用的实现（Keepalived + 虚 IP）</a>
<a href=/2020/05/07/epoll/ class=next rel=next title="I/O Multiplexing（I/O 多路复用）">I/O Multiplexing（I/O 多路复用）<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://cnblogs.com/schaepher target=_blank>Schaepher</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.js></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>