<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>因为一句话，秒懂二叉树旋转 - Schaepher's Blog</title><meta name=Description content="深透理解，熟练运用；似懂非懂，其实不懂。"><meta property="og:title" content="因为一句话，秒懂二叉树旋转"><meta property="og:description" content="事情要从某天晚上买夜宵说起。买了香肠拿着吃，想着多年来一直没搞懂的树旋转是不是应该看看，就点进某百科。 树旋转是在二叉树中的一种子树调整操作，"><meta property="og:type" content="article"><meta property="og:url" content="https://schaepher.github.io/2022/05/11/tree-rotation/"><meta property="og:image" content="https://schaepher.github.io/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-11T12:30:00+00:00"><meta property="article:modified_time" content="2022-05-11T12:30:00+00:00"><meta property="og:site_name" content="Schaepher's Blog"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://schaepher.github.io/logo.png"><meta name=twitter:title content="因为一句话，秒懂二叉树旋转"><meta name=twitter:description content="事情要从某天晚上买夜宵说起。买了香肠拿着吃，想着多年来一直没搞懂的树旋转是不是应该看看，就点进某百科。 树旋转是在二叉树中的一种子树调整操作，"><meta name=application-name content="Schaepher's Blog"><meta name=apple-mobile-web-app-title content="Schaepher's Blog"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://schaepher.github.io/2022/05/11/tree-rotation/><link rel=prev href=https://schaepher.github.io/2022/05/10/cert-verify/><link rel=next href=https://schaepher.github.io/2022/05/24/life-view/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"因为一句话，秒懂二叉树旋转","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/schaepher.github.io\/2022\/05\/11\/tree-rotation\/"},"genre":"posts","keywords":"树, 二叉树, 平衡二叉树, 树旋转","wordcount":2002,"url":"https:\/\/schaepher.github.io\/2022\/05\/11\/tree-rotation\/","datePublished":"2022-05-11T12:30:00+00:00","dateModified":"2022-05-11T12:30:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"Schaepher"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Schaepher's Blog"></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/>主页 </a><a class=menu-item href=/posts/ title=文章按年份分类>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=搜索文章标题或内容... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Schaepher's Blog"></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=搜索文章标题或内容... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=搜索><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=清空><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>取消</a></div><a class=menu-item href=/ title>主页</a><a class=menu-item href=/posts/ title=文章按年份分类>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">因为一句话，秒懂二叉树旋转</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://cnblogs.com/schaepher title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>Schaepher</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-05-11>2022-05-11</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;约 2002 字&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;预计阅读 4 分钟&nbsp;</div></div><div class="details toc" id=toc-static data-kept=true><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#为什么是中序遍历>为什么是中序遍历</a></li><li><a href=#举个例子>举个例子</a><ul><li><a href=#右旋>右旋</a></li><li><a href=#右旋代码实现>右旋代码实现</a></li><li><a href=#左旋>左旋</a></li></ul></li><li><a href=#子树的旋转>子树的旋转</a></li><li><a href=#结尾>结尾</a></li></ul></nav></div></div><div class=content id=content><p>事情要从某天晚上买夜宵说起。买了香肠拿着吃，想着多年来一直没搞懂的树旋转是不是应该看看，就点进某百科。</p><blockquote><p>树旋转是在二叉树中的一种子树调整操作， 每一次旋转并不影响对该二叉树进行中序遍历的结果。</p></blockquote><p>中序遍历！灵光一闪，好像很多东西都联系起来了！</p><h2 id=为什么是中序遍历>为什么是中序遍历</h2><p>中序遍历是指按【左节点->父节点->右节点】的顺序遍历，这个内容能让我们想起什么？二叉排序树。</p><p>二叉排序树要求左节点的值小于父节点，右节点大于父节点。如果按照中序遍历二叉排序树，就能得到一个顺序结果。</p><p>知道这一点有什么用？在后续的旋转过程中，我们可以根据二叉排序树的父节点和子节点的大小关系来辅助理解旋转。</p><h2 id=举个例子>举个例子</h2><p>现在我们有一颗二叉排序树：</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-1.svg data-srcset="./tree-rotation-1.svg, ./tree-rotation-1.svg 1.5x, ./tree-rotation-1.svg 2x" data-sizes=auto alt=./tree-rotation-1.svg title=./tree-rotation-1.svg></p><p>其中序遍历的结果是 1、2、3、4、5、6、7、8、9。</p><p>以下先不考虑子树的旋转。</p><h3 id=右旋>右旋</h3><p>现在对根节点 5 执行右旋。右旋的时候，要选择根节点 5 的左节点 3 作为新的根节点，称为以节点 3 为转轴。</p><p>为讨论方便，把旋转前 3 的右子树称为 A，5 的右子树称为 B。如下图所示：</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-2.svg data-srcset="./tree-rotation-2.svg, ./tree-rotation-2.svg 1.5x, ./tree-rotation-2.svg 2x" data-sizes=auto alt=./tree-rotation-2.svg title=./tree-rotation-2.svg></p><p>由于是右旋转，当节点 3 处于根节点的时候，其左子树的数必须仍然小于 3，又因为 A、5、B 都大于 3，所以 3 旋转前的左子树在旋转后保持原样，仍然是 3 的左子树。</p><p>现在有两个问题：</p><ol><li>A 放哪里？</li><li>根节点 5 放在哪里？</li></ol><p>结合二叉排序树来理解。由于 3 即将成为根节点，A 和原先根节点都大于 3，因此两者都要放在旋转后 3 的右子树。那么问题就转化为：如何将 A、B、根节点 5 合并起来？</p><p>首先考虑根节点 5，先忽略 A。在自然旋转后，节点 5 在 3 的右子树，B 和 5 的关系不变，且 5 的左子树必然为空。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-3.svg data-srcset="./tree-rotation-3.svg, ./tree-rotation-3.svg 1.5x, ./tree-rotation-3.svg 2x" data-sizes=auto alt=./tree-rotation-3.svg title=./tree-rotation-3.svg></p><p>现在考虑 A。由于旋转前它就在 5 的左子树里面，所以必然小于 5。旋转后 5 的左子树为空，就可以直接把 A 作为 5 的左子树。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-4.svg data-srcset="./tree-rotation-4.svg, ./tree-rotation-4.svg 1.5x, ./tree-rotation-4.svg 2x" data-sizes=auto alt=./tree-rotation-4.svg title=./tree-rotation-4.svg></p><p>旋转完毕。用中序遍历验证，其结果是 1、2、3、4、5、6、7、8、9，结果不变。</p><h3 id=右旋代码实现>右旋代码实现</h3><p>先不考虑子树内旋转的情况，便于理解。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kn>package</span> <span class=nx>main</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=s>&#34;fmt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>type</span> <span class=nx>TreeNode</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Left</span>  <span class=o>*</span><span class=nx>TreeNode</span>
</span></span><span class=line><span class=cl>	<span class=nx>Right</span> <span class=o>*</span><span class=nx>TreeNode</span>
</span></span><span class=line><span class=cl>	<span class=nx>Value</span> <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// PutChild 用于简化初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>n</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=nf>PutChild</span><span class=p>(</span><span class=nx>child</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>child</span><span class=p>.</span><span class=nx>Value</span> <span class=p>&lt;</span> <span class=nx>n</span><span class=p>.</span><span class=nx>Value</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>n</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=nx>child</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=nx>child</span><span class=p>.</span><span class=nx>Value</span> <span class=p>&gt;</span> <span class=nx>n</span><span class=p>.</span><span class=nx>Value</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>n</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=nx>child</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// RotateRight 右旋，参数先不使用转轴
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>RotateRight</span><span class=p>(</span><span class=nx>root</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 把 A 备份出来
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>a</span> <span class=o>:=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span><span class=p>.</span><span class=nx>Right</span>
</span></span><span class=line><span class=cl>	<span class=nx>root</span><span class=p>.</span><span class=nx>Left</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 旋转。3 原先在 5 左节点，现在让 5 变成 3 的右节点
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>newRoot</span> <span class=o>:=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span>
</span></span><span class=line><span class=cl>	<span class=nx>root</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>	<span class=nx>newRoot</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=nx>root</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 把 A 放回去
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>root</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=nx>a</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// PrintInorderIteration 中序遍历迭代法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>PrintInorderIteration</span><span class=p>(</span><span class=nx>root</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>stack</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=o>*</span><span class=nx>TreeNode</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nb>len</span><span class=p>(</span><span class=nx>stack</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span> <span class=o>||</span> <span class=nx>root</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>for</span> <span class=nx>root</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>stack</span> <span class=p>=</span> <span class=nb>append</span><span class=p>(</span><span class=nx>stack</span><span class=p>,</span> <span class=nx>root</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=nx>root</span> <span class=p>=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=nx>root</span> <span class=p>=</span> <span class=nx>stack</span><span class=p>[</span><span class=nb>len</span><span class=p>(</span><span class=nx>stack</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>		<span class=nx>stack</span> <span class=p>=</span> <span class=nx>stack</span><span class=p>[:</span><span class=nb>len</span><span class=p>(</span><span class=nx>stack</span><span class=p>)</span><span class=o>-</span><span class=mi>1</span><span class=p>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=nx>root</span><span class=p>.</span><span class=nx>Value</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=nx>root</span> <span class=p>=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Right</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>func</span> <span class=nf>main</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 为了与图对应，这里多申请一个位置，但只从 1 开始初始化。
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>nodes</span> <span class=o>:=</span> <span class=nb>make</span><span class=p>([]</span><span class=o>*</span><span class=nx>TreeNode</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=k>for</span> <span class=nx>i</span> <span class=o>:=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=p>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>nodes</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=p>=</span> <span class=o>&amp;</span><span class=nx>TreeNode</span><span class=p>{</span><span class=nx>Value</span><span class=p>:</span> <span class=nx>i</span><span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>5</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>5</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>8</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>3</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>3</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>4</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>2</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>8</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>7</span><span class=p>])</span>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>8</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>9</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>nodes</span><span class=p>[</span><span class=mi>7</span><span class=p>].</span><span class=nf>PutChild</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>6</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;BEGIN&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nf>PrintInorderIteration</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>5</span><span class=p>])</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;END&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nf>RotateRight</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>5</span><span class=p>])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;BEGIN&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>	<span class=nf>PrintInorderIteration</span><span class=p>(</span><span class=nx>nodes</span><span class=p>[</span><span class=mi>3</span><span class=p>])</span>
</span></span><span class=line><span class=cl>	<span class=nx>fmt</span><span class=p>.</span><span class=nf>Println</span><span class=p>(</span><span class=s>&#34;END&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=左旋>左旋</h3><p>还是使用原始版本。这次根节点 5 的左子树为 B，右节点 8 为转轴，节点 8 的左子树为 A（转轴旋转方向的内侧）。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-5.svg data-srcset="./tree-rotation-5.svg, ./tree-rotation-5.svg 1.5x, ./tree-rotation-5.svg 2x" data-sizes=auto alt=./tree-rotation-5.svg title=./tree-rotation-5.svg></p><p>由于是左旋，转轴 8 的左子树 A 先不考虑。做自然旋转。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-6.svg data-srcset="./tree-rotation-6.svg, ./tree-rotation-6.svg 1.5x, ./tree-rotation-6.svg 2x" data-sizes=auto alt=./tree-rotation-6.svg title=./tree-rotation-6.svg></p><p>由于子树 A 之前是 8 的左子树，说明子树 A 上的节点都小于 8，因此旋转后子树 A 必然在新的根节点 8 的左侧。</p><p>又由于旋转后的节点 5 的右子树必然为空，而子树 A 在旋转前就在 5 的右子树，说明子树 A 上的节点必然大于 5，因此旋转后子树 A 应作为 5 的右子树。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-7.svg data-srcset="./tree-rotation-7.svg, ./tree-rotation-7.svg 1.5x, ./tree-rotation-7.svg 2x" data-sizes=auto alt=./tree-rotation-7.svg title=./tree-rotation-7.svg></p><p>旋转完毕。用中序遍历验证，其结果是 1、2、3、4、5、6、7、8、9，结果不变。</p><p>代码逻辑和右旋类似，不再重复。</p><h2 id=子树的旋转>子树的旋转</h2><p>还是回到原先树上。现在考虑以 3 为定点的子树，执行右旋，此时转轴为 2。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-8.svg data-srcset="./tree-rotation-8.svg, ./tree-rotation-8.svg 1.5x, ./tree-rotation-8.svg 2x" data-sizes=auto alt=./tree-rotation-8.svg title=./tree-rotation-8.svg></p><blockquote><p>这里节点 2 没有右子树，因此用虚线表示 A 区域，便于识别</p></blockquote><p>在旋转过程中，与原先不同的地方在哪？</p><p>在于必须更新顶点的父节点。例如上图，需要更新节点 5 的左节点为 2。按照前面右旋的代码设计，当我们传入的是节点 3 的时候，没法更新节点 5。因此需要给节点引入一个新的字段 Parent，用于表示其父节点。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=kd>type</span> <span class=nx>TreeNode</span> <span class=kd>struct</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=nx>Parent</span> <span class=o>*</span><span class=nx>TreeNode</span>
</span></span><span class=line><span class=cl>	<span class=nx>Left</span>   <span class=o>*</span><span class=nx>TreeNode</span>
</span></span><span class=line><span class=cl>	<span class=nx>Right</span>  <span class=o>*</span><span class=nx>TreeNode</span>
</span></span><span class=line><span class=cl>	<span class=nx>Value</span>  <span class=kt>int</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>在旋转的时候，基于前面右旋的代码，加上父节点的更新就可以了。有些步骤能合并，但为了容易理解，不予合并。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-go data-lang=go><span class=line><span class=cl><span class=c1>// PutChild 用于简化初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=p>(</span><span class=nx>n</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=nf>PutChild</span><span class=p>(</span><span class=nx>child</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>child</span><span class=p>.</span><span class=nx>Value</span> <span class=p>&lt;</span> <span class=nx>n</span><span class=p>.</span><span class=nx>Value</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>n</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=nx>child</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=k>if</span> <span class=nx>child</span><span class=p>.</span><span class=nx>Value</span> <span class=p>&gt;</span> <span class=nx>n</span><span class=p>.</span><span class=nx>Value</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>n</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=nx>child</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>child</span><span class=p>.</span><span class=nx>Parent</span> <span class=p>=</span> <span class=nx>n</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// RotateRight 右旋，参数先不使用转轴
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>func</span> <span class=nf>RotateRight</span><span class=p>(</span><span class=nx>root</span> <span class=o>*</span><span class=nx>TreeNode</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span> <span class=o>==</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>return</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 把 A 备份出来，并取消双向连线
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>a</span> <span class=o>:=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span><span class=p>.</span><span class=nx>Right</span>
</span></span><span class=line><span class=cl>	<span class=nx>root</span><span class=p>.</span><span class=nx>Left</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>	<span class=k>if</span> <span class=nx>a</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>a</span><span class=p>.</span><span class=nx>Parent</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 取到子树根节点的父节点，并取消双向连线
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>rootParent</span> <span class=o>:=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Parent</span>
</span></span><span class=line><span class=cl>	<span class=nx>root</span><span class=p>.</span><span class=nx>Parent</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>	<span class=c1>// 如果 root 是整颗树的根节点，无需调整
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=nx>rootParent</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>rootParent</span><span class=p>.</span><span class=nx>Value</span> <span class=p>&gt;</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Value</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>rootParent</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>rootParent</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 旋转。2 原先在 3 左节点，现在让 3 变成 2 的右节点
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>newRoot</span> <span class=o>:=</span> <span class=nx>root</span><span class=p>.</span><span class=nx>Left</span>
</span></span><span class=line><span class=cl>	<span class=nx>root</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>	<span class=nx>newRoot</span><span class=p>.</span><span class=nx>Parent</span> <span class=p>=</span> <span class=kc>nil</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=nx>newRoot</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=nx>root</span>
</span></span><span class=line><span class=cl>	<span class=nx>root</span><span class=p>.</span><span class=nx>Parent</span> <span class=p>=</span> <span class=nx>newRoot</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 设置根节点的父节点
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>if</span> <span class=nx>rootParent</span> <span class=o>!=</span> <span class=kc>nil</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=k>if</span> <span class=nx>rootParent</span><span class=p>.</span><span class=nx>Value</span> <span class=p>&gt;</span> <span class=nx>newRoot</span><span class=p>.</span><span class=nx>Value</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>rootParent</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=nx>newRoot</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>rootParent</span><span class=p>.</span><span class=nx>Right</span> <span class=p>=</span> <span class=nx>newRoot</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>	<span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 把 A 放回去
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=nx>root</span><span class=p>.</span><span class=nx>Left</span> <span class=p>=</span> <span class=nx>a</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><img class=lazyload src=/svg/loading.min.svg data-src=./tree-rotation-9.svg data-srcset="./tree-rotation-9.svg, ./tree-rotation-9.svg 1.5x, ./tree-rotation-9.svg 2x" data-sizes=auto alt=./tree-rotation-9.svg title=./tree-rotation-9.svg></p><h2 id=结尾>结尾</h2><p>上文使用了二叉排序树作为辅助理解的工具，顺便一提，在想到二叉排序树的时候，还应将其和二分搜索联系起来。</p><p>单看树的旋转，其实非常简单。树的旋转实际上是为平衡二叉树做铺垫，因此下一篇将会把普通的二叉树换成平衡二叉树。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2022-05-11</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/2022/05/11/tree-rotation/index.md target=_blank>阅读原始文档</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="分享到 Twitter" data-sharer=twitter data-url=https://schaepher.github.io/2022/05/11/tree-rotation/ data-title=因为一句话，秒懂二叉树旋转 data-hashtags=树,二叉树,平衡二叉树,树旋转><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Facebook" data-sharer=facebook data-url=https://schaepher.github.io/2022/05/11/tree-rotation/ data-hashtag=树><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Hacker News" data-sharer=hackernews data-url=https://schaepher.github.io/2022/05/11/tree-rotation/ data-title=因为一句话，秒懂二叉树旋转><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Line" data-sharer=line data-url=https://schaepher.github.io/2022/05/11/tree-rotation/ data-title=因为一句话，秒懂二叉树旋转><i data-svg-src=/lib/simple-icons/icons/line.min.svg aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 微博" data-sharer=weibo data-url=https://schaepher.github.io/2022/05/11/tree-rotation/ data-title=因为一句话，秒懂二叉树旋转><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="分享到 Evernote" data-sharer=evernote data-url=https://schaepher.github.io/2022/05/11/tree-rotation/ data-title=因为一句话，秒懂二叉树旋转><i class="fab fa-evernote fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/%E6%A0%91/>树</a>,&nbsp;<a href=/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/>二叉树</a>,&nbsp;<a href=/tags/%E5%B9%B3%E8%A1%A1%E4%BA%8C%E5%8F%89%E6%A0%91/>平衡二叉树</a>,&nbsp;<a href=/tags/%E6%A0%91%E6%97%8B%E8%BD%AC/>树旋转</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/2022/05/10/cert-verify/ class=prev rel=prev title="手动验证 TLS 证书"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>手动验证 TLS 证书</a>
<a href=/2022/05/24/life-view/ class=next rel=next title=选择人生(草稿)>选择人生(草稿)<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>由 <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> 强力驱动 | 主题 - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2017 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://cnblogs.com/schaepher target=_blank>Schaepher</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/lunr/lunr.min.js></script><script type=text/javascript src=/lib/lunr/lunr.stemmer.support.min.js></script><script type=text/javascript src=/lib/lunr/lunr.zh.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js></script><script type=text/javascript src=/lib/katex/contrib/auto-render.min.js></script><script type=text/javascript src=/lib/katex/contrib/copy-tex.min.js></script><script type=text/javascript src=/lib/katex/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:50},comment:{},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"没有找到结果",snippetLength:50,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>